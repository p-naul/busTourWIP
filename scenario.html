<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nicomatic Mission</title>
    <link rel="stylesheet" href="./assets/styles/stylesScenario.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <script
      type="text/javascript"
      src="https://static.sketchfab.com/api/sketchfab-viewer-1.12.1.js"
    ></script>
    <script type="text/javascript" src="AnimationControls.js"></script>
    <script>
      function displayScenarioText() {
        const params = new URLSearchParams(window.location.search);
        const scenario = params.get("scenario");

        let content = "";
        if (scenario === "1") {
          // équipement embarqué pour gérer l’air conditionné
          content = ` 
            <ul>
              <li>1 boîtier cockpit panel au format 2U permettant les fonctions suivantes :</li>
              <ul>
                <li>Réglage de la vitesse de ventilation <span class="highlight">cabine</span> avec un sélecteur rotatif 5 vitesses et position OFF</li>
                <li>Réglage de la vitesse de ventilation cockpit avec un sélecteur rotatif 5 vitesses et position OFF </li>
                <li>Sélection de la source de l’air conditionné avec un sélecteur rotatif 5 positions et position OFF</li>
                <li>Gestion des clapets en ouverture et fermeture avec un bouton poussoir bistable et retour lumineux intégré au bouton pour visualiser le mode sélectionné</li>
              </ul>
              <li>2 cartes électroniques interne au boitier gérant les fonctions</li>
              <li>1 harnais pour relier la face avant et l’électronique, à base de connecteurs XX points</li>
              <li>1 connecteur d’interface client de XX broches MIL38999</li>
            </ul>`;
        } else if (scenario === "2") {
          content = `
            <ul>
              <li>Boiter cockpit panel au format 1U devant gérer l’allumage, le standby ou l’extinction d'une balise</li>
              <li>Boiter cockpit panel au format 1U devant réaliser le pilotage d’un équipement embarqué pour gérer l’allumage, le standby ou l’extinction par un interrupteur. Un voyant témoin de couleur blanc doit renvoyer l’information lorsque l’équipement piloté est en marche</li>
              <li>Des cartes électroniques interne au boitier gérant les fonctions</li>
              <li>La connectique interne au boitier de commande afin de relier la Face avant à l’électronique interne est composée d’un harnais à base de connecteurs XX points</li>
              <li>Le connecteur d’interface client est un connecteur de XX broches MIL38999</li>
            </ul>`;
        } else if (scenario === "3") {
          content = `
            <ul>
              <li>Boiter cockpit panel au format 1U devant gérer l’allumage ou l’extinction d’un équipement embarqué</li>
              <li>Boiter cockpit panel au format 1U devant réaliser le pilotage d’un équipement embarqué pour gérer l’allumage ou l’extinction par un interrupteur et une fonction bouton poussoir pour sélectionner un mode Auto/Standby avec un voyant témoin de couleurs jaune intégré au bouton devant renvoyer l’information lorsque l’équipement piloté est en Standby</li>
              <li>Des cartes électroniques interne au boitier gérant les fonctions</li>
              <li>La connectique interne au boitier de commande afin de relier la Face avant à l’électronique interne est composée d’un harnais à base de connecteurs XX points</li>
              <li>Le connecteur d’interface client est un connecteur de XX broches MIL38999</li>
            </ul>`;
        } else {
          content = "<p>Aucun scénario sélectionné.</p>";
        }

        document.getElementById("scenario-content").innerHTML = content;
      }

      window.onload = displayScenarioText;
    </script>
  </head>
  <body>
    <header>
      <div class="logo">
        <img
          src="./assets/img/NicomaticGroup_Logo_Horizontal_White 1.png"
          alt="Nicomatic Group"
        />
      </div>
      <div class="language">
        <img src="./assets/img/FrenchFlag.jpg" alt="Français" />
        <span>Français</span>
      </div>
    </header>

    <div class="mission-bar">
      <div class="mission-title">
        <span>VOTRE MISSION</span> | Réaliser le pilotage d’un équipement embarqué avec les fonctions décrites ci-dessous
        <br>Les boutons d'aide à droite vous aideront à accomplir votre mission
      </div>
      <div class="right-icons">
        <a href="index.html" class="return-button">
          <span class="material-symbols-outlined"> arrow_back_ios </span> Retour
          aux scénarios
        </a>
        <button id="openPopup1" class="icon-button">
          <img
            src="./assets/img/ph_navigation-arrow-light.png"
            alt="Plane Icon"
          />
        </button>
        <button id="openPopup2" class="icon-button">
          <img src="./assets/img/clarity_help-line.png" alt="Help Icon" />
        </button>
      </div>
    </div>

    <div id="popup1" class="popup">
      <div class="popup-content">
        <span id="closePopup1" class="close">&times;</span>
        <h2>Comment naviguer dans la 3D</h2>
        <ul>
          <li>
            1 clic gauche sur la pastille transparente : zoom sur un composant
          </li>
          <li>
            1 clic sur un composant pour l'ajouter sur la table d'assemblage ou
            le retirer
          </li>
          <li>Double-clic sur une zone de la scène : zoom sur cette zone</li>
          <li>Molette avant/arrière : zoom avant/arrière</li>
          <li>1 clic droit + mouvement souris : se déplacer dans la scène</li>
        </ul>
      </div>
    </div>

    <div id="popup2" class="popup">
      <div class="popup-content">
        <span id="closePopup2" class="close">&times;</span>
        <h2>Comment réussir la mission</h2>
        <ul>
          <li>
            Sélectionnez les composants des consoles en cliquant dessus, ils se
            déplaceront sur la table d'assemblage
          </li>
          <li>
            Lorsque vous considérez que votre assemblage correspond à votre
            mission, cliquez sur le buzzer doré pour valider
          </li>
          <li>
            À tout moment, vous pouvez sortir de la mission et retourner à
            l’écran d’accueil en sélectionnant le bouton "Retour aux scénarios"
          </li>
        </ul>
      </div>
    </div>

    <!-- <div id="popup3" class="popupAnnotation">
      <div class="popup-content">
        <span onclick="closePopup3()" style="cursor:pointer;">&times;</span>
        <h2>bla bla</h2>
        <ul>
          <li>bla bla</li>
          <li>bla bla</li>
        </ul>
      </div>
    </div> -->

    <main>
      <div id="scenario-content" class="info-panel"></div>
      <div class="content-placeholder">
        <div class="banner">
          <span class="banner-text">
            >Bien essayé ! Malheureusement la configuration n'est pas tout à
            fait correcte</span
          >
          <div class="timer">00:04:26</div>
        </div>
        <div><iframe src="" id="api-frame"></iframe></div>
      </div>
    </main>
    <button onclick="showBanner(true)">Correct</button>
    <button onclick="showBanner(false)">Incorrect</button>
    <script type="text/javascript" src="./scripts/scenario.js"></script>
    <script type="text/javascript" src="./scripts/commun.js"></script>
    <script type="text/javascript" src="./scripts/utils.js"></script>
  </body>
</html>
